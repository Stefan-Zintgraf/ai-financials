[general]
# Stop after first failure (can also be set via --stop-on-failure CLI flag)
stop_on_failure = false
# Timeout in seconds for each pipeline subprocess
timeout = 300

[tests]
# Enable/disable individual test modules (true/false)
#
# unit_ai_analysis: Unit tests for ai_analysis.py pure functions (regex,
#   parsing, validation, key normalization). No LLM or network needed.
unit_ai_analysis = true
#
# dummy_pipeline: Runs pipeline with --quick-analysis --dummy-analysis.
#   No LLM calls. Validates Excel structure, row counts, PDF/log output.
# Set to true to include dummy pipeline in runs
dummy_pipeline = false
#
# model_check: Runs --model-check per enabled provider ([providers]) and
#   each model in [models] to verify LLM connectivity. Skips if API key missing.
model_check = true
#
# pipeline: Runs the full analysis pipeline for each combination from
#   [providers], [models], [multistep]. Validates LLM produces parseable
#   results with correct structure. Most expensive test -- the only one
#   that verifies end-to-end LLM analysis. Disable for fast iteration, then
#   only tests unit_ai_analysis, model_check, error_handling etc. are executed.
#   When pipeline=false: no provider/model/multistep used; nothing is tested.
pipeline = true
#
# error_handling: Sends invalid inputs (bad provider, missing env) and
#   verifies the pipeline fails gracefully with non-zero exit codes.
error_handling = true
#
# data_providers: Network smoke tests for forex rates, Google News RSS,
#   Tiingo API. Calls functions directly (not via pipeline). Skipped
#   when keys or network are unavailable.
data_providers = true

[providers]
# Which providers to include in pipeline and model-check tests
ollama = true
anthropic = false
openai = false

[models]
# Comma-separated models to test per provider
ollama = tinyllama:latest, llama3.2:1b, mistral:latest
anthropic = claude-3-5-haiku-latest
openai = gpt-4o-mini

[multistep]
# Whether to vary multistep on/off in pipeline tests
# Set to true to vary multistep on/off
vary = false
# Threshold values to test (comma-separated)
thresholds = 4096, 8192
